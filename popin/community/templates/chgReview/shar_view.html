{% extends 'header_login.html'%}
{% load static %}
<!--ìƒë‹¨ í—¤ë”-->
{%block content%}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="/static/css/community/shar_view.css">
  <script src="/static/js/community/chgR_view.js" defer></script>
  <title>ë‚˜ëˆ” ìƒì„¸</title>
</head>
<body>
  <div class="container">
    <div class="main-content">
      <div class="post-header">
        <h1 class="post-title">{{post.title}}</h1>
        <div class="post-meta">
          {% for tag in post.tags.all %}
            <span class="post-tag">#{{ tag.name }}</span>
          {% endfor %}
          <div class="author-info">
            <span style="font-weight: 550;">ì‘ì„±ì : {{ post.author.nickname }}</span>
          </div>
          <span>ğŸ“… {{post.event_date}}</span>
          <span>ğŸ‘ï¸ {{post.views}}</span>
        </div>
      </div>

      <div class="post-content">
        <div class="sharing-details">
          <h4>ğŸ“‹ ë‚˜ëˆ” ì •ë³´</h4>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ğŸµ ì•„í‹°ìŠ¤íŠ¸</span>
              <span class="detail-value">{{post.artist}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ğŸ“€ ì¢…ë¥˜</span>
              <span class="detail-value">{{post.category}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ğŸ“ ìœ„ì¹˜</span>
              <span class="detail-value">{{post.location}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ğŸ“… ë‚ ì§œ ë° ì‹œê°„</span>
              <span class="detail-value">{{post.event_date}}</span>
            </div>
          </div>
          
          <div class="requirements">
            <h4>âš ï¸ í•„ìˆ˜ì‚¬í•­</h4>
            <ul class="requirement-list">
               <p>{{ post.requirement }}</p>
            </ul>
          </div>
        </div>

        <div class="sharing-content">
          <h4>ğŸ“ ë‚˜ëˆ” ë‚´ìš©</h4>
        <p>{{post.content}}</p>
        </div>

        <div class="sharing-images">
          <h4>ğŸ“ ì²¨ë¶€ ì‚¬ì§„</h4>
          <div class="image-gallery">
              {% for image in post.images.all %}
            <div class="image-item" onclick="openModal(this)">
           <img src="{{ image.image.url }}" alt="í›„ê¸° ì´ë¯¸ì§€ {{ forloop.counter }}">
          </div>
           {% empty %}
              <p>ì²¨ë¶€ëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            {% endfor %}
        </div>


      <div class="action-buttons">
        <a href="#" class="btn back" onclick="history.back()">ì´ì „ìœ¼ë¡œ</a>
        <a href="{% url 'community:updateSh'  pk=post.id%}" class="btn update">ìˆ˜ì •í•˜ê¸°</a>
        <a href="#" class="btn delete">ì‚­ì œí•˜ê¸°</a>
      </div>
    </div>
  </div>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <button class="modal-nav modal-prev" onclick="changeImage(-1)">â®</button>
      <img class="modal-image" id="modalImage" alt="í™•ëŒ€ ì´ë¯¸ì§€">
      <button class="modal-nav modal-next" onclick="changeImage(1)">â¯</button>
      <div class="modal-caption" id="modalCaption"></div>
    </div>
  </div>

  {% endblock content %}
</body>
</html>